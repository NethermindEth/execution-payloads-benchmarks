# Network to use
network: mainnet

# Pull images before execution
pull_images: true

# Grafana K6 image to use
k6_image: grafana/k6:1.1.0

# Paths for the payloads csv file, work directory, and outputs directory
paths:
  payloads: ./payloads.jsonl # Each line is a payload request body
  fcus: ./fcus.jsonl # Each line is a forkchoice update request body
  work: ./work
  outputs: ./outputs

# Optional: Export K6 results metrics
export:
  # Prometheus remote write
  prometheus_remote_write:
    # Prometheus remote write endpoint
    endpoint: http://localhost:9090/api/v1/write
    # Optional: Basic auth for the remote write endpoint
    basic_auth:
      username: expb
      password: expb
    # Optional: Tags to add to the metrics
    tags:
      - key1=value1
      - key2=value2

# Resources for the docker container
resources:
  cpu: 4
  mem: 32g
  download_speed: 50mbit
  upload_speed: 15mbit

# Scenarios to execute
scenarios:
  # Scenario name
  example:
    # Required: Client name
    client: nethermind
    # Required: Snapshot directory for the selected client and network
    snapshot_dir: ./snapthots/nethermind
    # Required: Delay between payloads in seconds
    delay: 12.0
    # Required: Number of payloads to run
    amount: 100
    # Optional: Payloads row to start from the payloads file
    start: 1
    # Optional: Client image
    image: ethpandaops/nethermind:performance
